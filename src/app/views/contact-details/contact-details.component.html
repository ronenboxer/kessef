<section class="contact-details relative">
    <app-header></app-header>

    <div class="control">
        <div class="switch-contact flex between">
            <a [routerLink]="['/contact', contact.prevId]" class="flex align-center"><svg
                    xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" preserveAspectRatio="xMidYMid meet"
                    viewBox="0 0 24 24">
                    <g transform="translate(24 0) scale(-1 1)">
                        <path fill="none" stroke="currentColor" strokeWidth="2" d="m7 2l10 10L7 22" />
                    </g>
                </svg></a>
            <a [routerLink]="['/contact', contact.nextId]" class="flex align-center"><svg
                    xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" preserveAspectRatio="xMidYMid meet"
                    viewBox="0 0 24 24">
                    <path fill="none" stroke="currentColor" strokeWidth="2" d="m7 2l10 10L7 22" />
                </svg></a>
        </div>
        <button class="btn-back" (click)="onBack()">Back</button>
    </div>

    <div class="contact flex column align-center">
        <div class="contact-avatar relative">
            <img class="avatar" [src]="url" [alt]="initials" />
            <div class="actions absolute flex center">
                <button class="flex center" (click)="onDelete"><svg xmlns="http://www.w3.org/2000/svg" width="1em"
                        height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24">
                        <path fill="currentColor"
                            d="M5 21V6H4V4h5V3h6v1h5v2h-1v15Zm2-2h10V6H7Zm2-2h2V8H9Zm4 0h2V8h-2ZM7 6v13Z" />
                    </svg></button>
                <button [routerLink]="['/contact', contact._id,'edit']" class="flex center"><svg
                        xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" preserveAspectRatio="xMidYMid meet"
                        viewBox="0 0 24 24">
                        <path fill="currentColor"
                            d="M5 19h1.4l8.625-8.625l-1.4-1.4L5 17.6ZM19.3 8.925l-4.25-4.2l1.4-1.4q.575-.575 1.413-.575q.837 0 1.412.575l1.4 1.4q.575.575.6 1.388q.025.812-.55 1.387ZM4 21q-.425 0-.712-.288Q3 20.425 3 20v-2.825q0-.2.075-.387q.075-.188.225-.338l10.3-10.3l4.25 4.25l-10.3 10.3q-.15.15-.337.225q-.188.075-.388.075ZM14.325 9.675l-.7-.7l1.4 1.4Z" />
                    </svg></button>
            </div>
        </div>
        <div class="details">
            <h2 class="name">{{contact.name}}</h2>
            <h3 class="phone">{{contact.phone}}</h3>
            <h3 class="email">{{contact.email}}</h3>
            <form #form="ngForm" (ngSubmit)="onTransfer(form)" class="transfer flex" >
                <input ngModel name="amount" type="number" [placeholder]="'Max: BTC '+balance" required/>
                <button>Transfer</button>
            </form>
        </div>
    </div>

    <transaction-list [contacts]="[contact]" [rate]="rate" [transactions]="transactions"></transaction-list>
</section>

<router-outlet></router-outlet>